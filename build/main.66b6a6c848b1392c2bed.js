(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,n,t){},"73PY":function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({1:function(e,n,t,l,a){var o,i=e.escapeExpression,r=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,c="function",d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="card image-slider__slide swiper-slide" data-id="'+i(e.lambda(null!=n?d(n,"id"):n,n))+'">\n    <img src="https://www.themoviedb.org/t/p/w220_and_h330_face'+i(typeof(o=null!=(o=d(t,"poster_path")||(null!=n?d(n,"poster_path"):n))?o:s)===c?o.call(r,{name:"poster_path",hash:{},data:a,loc:{start:{line:3,column:63},end:{line:3,column:78}}}):o)+'" alt="'+i(typeof(o=null!=(o=d(t,"title")||(null!=n?d(n,"title"):n))?o:s)===c?o.call(r,{name:"title",hash:{},data:a,loc:{start:{line:3,column:85},end:{line:3,column:94}}}):o)+'" class="card__image">\n    <h4 class="card__title">'+i(typeof(o=null!=(o=d(t,"title")||(null!=n?d(n,"title"):n))?o:s)===c?o.call(r,{name:"title",hash:{},data:a,loc:{start:{line:4,column:28},end:{line:4,column:37}}}):o)+'</h4>\n    <div class="card__info--container">\n         <p class="card__info">'+i(typeof(o=null!=(o=d(t,"genre_ids")||(null!=n?d(n,"genre_ids"):n))?o:s)===c?o.call(r,{name:"genre_ids",hash:{},data:a,loc:{start:{line:6,column:31},end:{line:6,column:44}}}):o)+' |\n        <span class="card__info">'+i(typeof(o=null!=(o=d(t,"release_date")||(null!=n?d(n,"release_date"):n))?o:s)===c?o.call(r,{name:"release_date",hash:{},data:a,loc:{start:{line:7,column:33},end:{line:7,column:49}}}):o)+'</span>\n         <span class="card__info--votes">'+i(typeof(o=null!=(o=d(t,"vote_average")||(null!=n?d(n,"vote_average"):n))?o:s)===c?o.call(r,{name:"vote_average",hash:{},data:a,loc:{start:{line:8,column:41},end:{line:8,column:57}}}):o)+"</ы>\n       </p>\n    </div>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))?o:""},useData:!0})},N1H9:function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o,i=e.lambda,r=e.escapeExpression,s=null!=n?n:e.nullContext||{},c=e.hooks.helperMissing,d="function",u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="card" data-id="'+r(i(null!=n?u(n,"id"):n,n))+'">\n    <img src="https://www.themoviedb.org/t/p/w220_and_h330_face'+r(typeof(o=null!=(o=u(t,"poster_path")||(null!=n?u(n,"poster_path"):n))?o:c)===d?o.call(s,{name:"poster_path",hash:{},data:a,loc:{start:{line:2,column:63},end:{line:2,column:78}}}):o)+'" alt="'+r(typeof(o=null!=(o=u(t,"title")||(null!=n?u(n,"title"):n))?o:c)===d?o.call(s,{name:"title",hash:{},data:a,loc:{start:{line:2,column:85},end:{line:2,column:94}}}):o)+'" data-id="'+r(i(null!=n?u(n,"id"):n,n))+'" class="card__image">\n    <h4 class="card__title">'+r(typeof(o=null!=(o=u(t,"title")||(null!=n?u(n,"title"):n))?o:c)===d?o.call(s,{name:"title",hash:{},data:a,loc:{start:{line:3,column:28},end:{line:3,column:37}}}):o)+'</h4>\n    <div class="card__info--container">\n        <span class="card__info">'+r(typeof(o=null!=(o=u(t,"genre_ids")||(null!=n?u(n,"genre_ids"):n))?o:c)===d?o.call(s,{name:"genre_ids",hash:{},data:a,loc:{start:{line:5,column:33},end:{line:5,column:46}}}):o)+' | </span>\n        <span class="card__info">'+r(typeof(o=null!=(o=u(t,"release_date")||(null!=n?u(n,"release_date"):n))?o:c)===d?o.call(s,{name:"release_date",hash:{},data:a,loc:{start:{line:6,column:33},end:{line:6,column:49}}}):o)+"</span>\n    </div>\n</li>"},useData:!0})},QfWi:function(e,n,t){"use strict";t.r(n);t("0HMw");var l=t("czhI"),a=t.n(l),o=t("zC5Y"),i=t.n(o);function r(e){new IntersectionObserver((e,n)=>{e.forEach(e=>{e.isIntersecting&&M()})},{rootMargin:"100px"}).observe(e)}const s=document.querySelector(".image-slider");function c(e){const n=i()(e);s.insertAdjacentHTML("beforeend",n);r(document.querySelector(".image-slider li:nth-last-of-type(5)"))}var d=t("jffb"),u=t.n(d),m=t("73PY"),p=t.n(m);const _=document.querySelector(".image-slider");function f(e){const n=p()(e);_.insertAdjacentHTML("beforeend",n);r(document.querySelector(".image-slider li:nth-last-of-type(5)"))}var h={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},y="Too many matches found. Please enter a more specific query!",v="No results were found for your search",g="You entered an incorrect movie name",b="An error occurred on the server during processing. Please try again later";const w="6b8ef447c2ce3d010bfcc7f710d71588";let k=1,S="";const x="https://api.themoviedb.org/3/trending/movie/day",E=document.querySelector(".search__input");E.addEventListener("input",u()(M,300));const L=document.querySelector(".search__warning");document.querySelector(".search__container").addEventListener("click",(function(){E.classList.add("search__input--active")}));document.querySelector(".library-home").addEventListener("click",e=>{E.classList.remove("search__input--active"),q(),O(x,c)});document.querySelector(".my-library").addEventListener("click",e=>{document.querySelector(".image-slider").innerHTML="Here you can store movies that you have already watched, or would like to view in the future."});const O=async(e,n,t="")=>{try{console.log(k);const{data:{results:l}}=await a.a.get(`${e}?api_key=${w}&page=${k}&query=${t}`);if(console.log(l),0===l.length)return void(L.textContent=v);const o=[...l].map(e=>{return(n=e).genre_ids=n.genre_ids.map(e=>h[e]).slice(0,3).join(", "),n;var n});return k+=1,n(o)}catch(e){422===e.response.status&&(L.textContent=g),e.response.status>=500?L.textContent=b:console.log(e)}};function q(){k=1,document.querySelector(".image-slider").innerHTML=""}function M(){if(L.textContent="",E.value.length>=3){E.value.length!=S.length&&q(),S=E.value;let e=E.value.trim();O("https://api.themoviedb.org/3/search/movie",f,e)}if(E.value.length>0&&E.value.length<3){if(L.textContent=y,E.value.length>S.length)return;if(E.value.length<S.length)return q(),S="",void O(x,c);S=E.value}""!==E.value||O(x,c)}O(x,c);const T=async(e,n)=>{const t=`https://api.themoviedb.org/3/movie/${e}?api_key=${w}`;try{const{data:e}=await a.a.get(t);return n(e)}catch(e){if(!e.response)return void console.error(e);404===e.response.status&&console.error(v),e.response.status>=500&&console.error(b)}};var P=t("dcBu"),j=(t("ZYR3"),t("s9S4")),H=t.n(j),C=t("N1H9"),A=t.n(C);const D=document.querySelector(".my-library"),I=document.querySelector(".library-home"),N=document.querySelector(".library-page"),F=document.querySelector(".main-page"),W=(document.querySelector(".modal"),document.querySelector(".image-slider"));let R=[];const J=localStorage.getItem("arrayWatchedFilms");J&&(R=JSON.parse(J)),D.addEventListener("click",()=>{N.style.display="block",F.style.display="none"});document.querySelector(".library-watched").addEventListener("click",()=>{W.innerHTML="",async function(e,n){if(0===e.length)return void(W.innerHTML="We cannot find anything in the bookmarks for this request");W.innerHTML="";let t=await e.reduce(async(e,n)=>{let t=await e;return t+=await T(n,A.a),t},"");n.insertAdjacentHTML("afterbegin",t)}(R,W)}),I.addEventListener("click",()=>{N.style.display="none",F.style.display="block"});document.querySelector(".my-library"),document.querySelector(".library-home"),document.querySelector(".library-page"),document.querySelector(".main-page"),document.querySelector(".modal");const V=document.querySelector(".image-slider");let Q=[];const Y=localStorage.getItem("arrayQueueFilms");Y&&(Q=JSON.parse(Y));document.querySelector(".library-queue").addEventListener("click",()=>{V.innerHTML="",async function(e,n){if(0===e.length)return void(V.innerHTML="This section contains all the movies you watched");V.innerHTML="";let t=await e.reduce(async(e,n)=>{let t=await e;return t+=await T(n,A.a),t},"");n.insertAdjacentHTML("afterbegin",t)}(Q,V)});const U=document.querySelector(".image-slider"),B=async e=>{const n=await T(e,H.a),t=P.create(n,{onShow:n=>{const t=n.element().querySelector(".modal-info__btn-watched");n.element().querySelector(".closeModalBtn").onclick=n.close,R.includes(e)&&(t.innerText="REMOVE FROM WATCHED",t.classList.add("modal-info__btn--active")),t.onclick=()=>{if((e=>{if(R.includes(e)){const n=R.indexOf(e);return R.splice(n,1),void localStorage.setItem("arrayWatchedFilms",JSON.stringify(R))}R.push(e),localStorage.setItem("arrayWatchedFilms",JSON.stringify(R))})(e),console.log(R),t.classList.contains("modal-info__btn--active"))return t.innerText="ADD TO WATCHED",void t.classList.remove("modal-info__btn--active");t.innerText="REMOVE FROM WATCHED",t.classList.add("modal-info__btn--active")};const l=n.element().querySelector(".modal-info__btn-queue");Q.includes(e)&&(console.log(l),l.innerText="REMOVE FROM QUEUE",l.classList.add("modal-info__btn--active")),l.onclick=()=>{if((e=>{if(Q.includes(e)){const n=Q.indexOf(e);return Q.splice(n,1),void localStorage.setItem("arrayQueueFilms",JSON.stringify(Q))}Q.push(e),localStorage.setItem("arrayQueueFilms",JSON.stringify(Q))})(e),console.log(Q),l.classList.contains("modal-info__btn--active"))return l.innerText="ADD TO QUEUE",void l.classList.remove("modal-info__btn--active");l.innerText="REMOVE FROM QUEUE",l.classList.add("modal-info__btn--active")}}});t.show(),window.addEventListener("keydown",(function e(n){"Escape"===n.code&&(t.close(),window.removeEventListener("keydown",e))}))};U.addEventListener("click",e=>{"LI"===e.target.parentNode.nodeName&&B(e.target.parentNode.dataset.id)});var $=t("j0Yk"),z=t.n($);document.querySelector("#footer-modal").addEventListener("click",(function(){const e=P.create(z()());console.log("modal",e),e.show();document.querySelector(".closeModalBtn").addEventListener("click",(function(n){"BUTTON"===n.target.nodeName&&e.close()})),document.addEventListener("keydown",n);const n=function(n){"Escape"===n.code&&(e.close(),window.removeEventListener("keydown",closeModalEsc))};document.addEventListener("keydown",n)}))},j0Yk:function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){return'<div class="modal-footer modal">\n    <div class="modal-footer__img-container modal__container">\n\n        <img src="./film/team_4.jpg" alt="destroyers-of-stereotypes-TEAM-4" class="modal-footer__image" />\n\n    </div>\n\n    <div class="modal-footer__info modal-info modal__container">\n        <h2 class="modal-footer__info-title modal-info__movie-title">разрушители стереотипов</h2>\n        <ul class="modal-footer__info-team modal-info__list">\n            <li class="modal-footer__item modal-info__item-title">\n                <p class="modal-footer__item-name">Евгений Иванов</p>\n                <p class="modal-info__item-text"><a class="modal-footer__item-link"\n                        href="https://github.com/IvanovEV92">https://github.com/IvanovEV92</a>\n                </p>\n            </li>\n            <li class="modal-footer__item modal-info__item-title">\n                <p class="modal-footer__item-name">Иветта Дашкова</p>\n                <p class="modal-info__item-text"><a\n                        class="modal-footer__item-link">https://github.com/IvettaDashkova</a></p>\n            </li>\n            <li class="modal-footer__item modal-info__item-title">\n                <p class="modal-footer__item-name">Ирина Проценко</p>\n                <p class="modal-info__item-text"><a class="modal-footer__item-link"\n                        href="https://github.com/PIrenka">https://github.com/PIrenka</a>\n                </p>\n            </li>\n            <li class="modal-footer__item modal-info__item-title">\n                <p class="modal-footer__item-name">Екатерина Замятина</p>\n                <p class="modal-info__item-text"><a class="modal-footer__item-link"\n                        href="https://github.com/Katerina-Zamiatina">https://github.com/Katerina-Zamiatina</a>\n\n                </p>\n            </li>\n            <li class="modal-footer__item modal-info__item-title">\n                <p class="modal-footer__item-name">Genre</p>\n                <p class="modal-info__item-text modal-info__item-text--genres">Action</p>\n            </li>\n        </ul>\n        <h3 class="modal-info__about-title">About</h3>\n        <p class="modal-info__about-overview modal-footer__overview">\n            История незабываемых 10-ти дней, заключающих курс по изучению JavaScript.\n        </p>\n    </div>\n\n    <button type="button" class="modal__icon-close closeModalBtn"></button>\n\n</div>'},useData:!0})},s9S4:function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({1:function(e,n,t,l,a){var o,i=null!=n?n:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'        <img src="https://www.themoviedb.org/t/p/w220_and_h330_face'+s("function"==typeof(o=null!=(o=c(t,"poster_path")||(null!=n?c(n,"poster_path"):n))?o:r)?o.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:4,column:67},end:{line:4,column:82}}}):o)+'"\n            data-source="https://www.themoviedb.org/t/p/w220_and_h330_face'+s("function"==typeof(o=null!=(o=c(t,"poster_path")||(null!=n?c(n,"poster_path"):n))?o:r)?o.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:5,column:74},end:{line:5,column:89}}}):o)+'" alt="'+s("function"==typeof(o=null!=(o=c(t,"title")||(null!=n?c(n,"title"):n))?o:r)?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:5,column:96},end:{line:5,column:105}}}):o)+'" class="modal__img-container--image" />\n'},3:function(e,n,t,l,a){var o,i=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'        <img src="https://upload.wikimedia.org/wikipedia/commons/6/64/Poster_not_available.jpg" alt="'+e.escapeExpression("function"==typeof(o=null!=(o=i(t,"title")||(null!=n?i(n,"title"):n))?o:e.hooks.helperMissing)?o.call(null!=n?n:e.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:7,column:101},end:{line:7,column:110}}}):o)+'" class="modal__img-container--image" />\n'},5:function(e,n,t,l,a){var o=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'\n                    <span class="modal-info__item-text--each-genre">'+e.escapeExpression(e.lambda(null!=n?o(n,"name"):n,n))+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o,i,r=null!=n?n:e.nullContext||{},s=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="modal modal-movie">\n    <div class="modal__img-container modal__container">\n'+(null!=(o=u(t,"if").call(r,null!=n?u(n,"poster_path"):n,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:3,column:8},end:{line:8,column:15}}}))?o:"")+'    </div>\n\n    <div class="modal-info modal__container">\n        <h2 class="modal-info__movie-title">'+d(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:s)===c?i.call(r,{name:"title",hash:{},data:a,loc:{start:{line:12,column:44},end:{line:12,column:53}}}):i)+'</h2>\n\n        <div class="modal-info__lists">\n            <ul class="modal-info__list">\n                <li class="modal-info__item-title">Vote / Votes</li>\n                <li class="modal-info__item-title">Popularity</li>\n                <li class="modal-info__item-title">Original title</li>\n                <li class="modal-info__item-title">Genre</li>\n            </ul>\n            <ul class="modal-info__list">\n                <li class="modal-info__item-text"><span class="modal-info__item-text--orange-bgr">'+d(typeof(i=null!=(i=u(t,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:s)===c?i.call(r,{name:"vote_average",hash:{},data:a,loc:{start:{line:22,column:98},end:{line:22,column:114}}}):i)+'</span>\n                    <span class="modal-info__item-title">/</span>\n                    <span>'+d(typeof(i=null!=(i=u(t,"vote_count")||(null!=n?u(n,"vote_count"):n))?i:s)===c?i.call(r,{name:"vote_count",hash:{},data:a,loc:{start:{line:24,column:26},end:{line:24,column:40}}}):i)+'</span>\n                </li>\n                <li class="modal-info__item-text">'+d(typeof(i=null!=(i=u(t,"popularity")||(null!=n?u(n,"popularity"):n))?i:s)===c?i.call(r,{name:"popularity",hash:{},data:a,loc:{start:{line:26,column:50},end:{line:26,column:64}}}):i)+'</li>\n                <li class="modal-info__item-text">'+d(typeof(i=null!=(i=u(t,"original_title")||(null!=n?u(n,"original_title"):n))?i:s)===c?i.call(r,{name:"original_title",hash:{},data:a,loc:{start:{line:27,column:50},end:{line:27,column:68}}}):i)+'</li>\n                <li class="modal-info__item-text modal-info__item-text--genres">'+(null!=(o=u(t,"each").call(r,null!=n?u(n,"genres"):n,{name:"each",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:28,column:80},end:{line:30,column:29}}}))?o:"")+'                </li>\n            </ul>\n        </div>\n        <div class="modal-info__about">\n            <h3 class="modal-info__about-title">About</h3>\n            <p class="modal-info__about-overview">\n                '+d(typeof(i=null!=(i=u(t,"overview")||(null!=n?u(n,"overview"):n))?i:s)===c?i.call(r,{name:"overview",hash:{},data:a,loc:{start:{line:37,column:16},end:{line:37,column:28}}}):i)+'\n            </p>\n        </div>\n\n        <div class="modal-info__buttons">\n            <button type=\'button\' class="modal-info__btn-watched">add to watched</button>\n            <button type=\'button\' class="modal-info__btn-queue">add to queue</button>\n        </div>\n    </div>\n\n    <button type="button" class="modal__icon-close closeModalBtn"></button>\n</div>'},useData:!0})},zC5Y:function(e,n,t){var l=t("mp5j");e.exports=(l.default||l).template({1:function(e,n,t,l,a){var o,i=null!=n?n:e.nullContext||{},r=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="card image-slider__slide swiper-slide" data-id="'+c(typeof(o=null!=(o=d(t,"id")||(null!=n?d(n,"id"):n))?o:r)===s?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:2,column:59},end:{line:2,column:65}}}):o)+'">\n    <img src="https://www.themoviedb.org/t/p/w220_and_h330_face'+c(typeof(o=null!=(o=d(t,"poster_path")||(null!=n?d(n,"poster_path"):n))?o:r)===s?o.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:3,column:63},end:{line:3,column:78}}}):o)+'" alt="'+c(typeof(o=null!=(o=d(t,"title")||(null!=n?d(n,"title"):n))?o:r)===s?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:3,column:85},end:{line:3,column:94}}}):o)+'" class="card__image">\n    <h4 class="card__title">'+c(typeof(o=null!=(o=d(t,"title")||(null!=n?d(n,"title"):n))?o:r)===s?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:4,column:28},end:{line:4,column:37}}}):o)+'</h4>\n        <span class="card__info">'+c(typeof(o=null!=(o=d(t,"genre_ids")||(null!=n?d(n,"genre_ids"):n))?o:r)===s?o.call(i,{name:"genre_ids",hash:{},data:a,loc:{start:{line:6,column:33},end:{line:6,column:46}}}):o)+' | </span>\n        <span class="card__info card__info--release_date">'+c(typeof(o=null!=(o=d(t,"release_date")||(null!=n?d(n,"release_date"):n))?o:r)===s?o.call(i,{name:"release_date",hash:{},data:a,loc:{start:{line:7,column:58},end:{line:7,column:74}}}):o)+"</span>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,l,a){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:11,column:9}}}))?o:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.66b6a6c848b1392c2bed.js.map
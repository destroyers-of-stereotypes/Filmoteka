{"version":3,"sources":["webpack:///./js/apiService.js"],"names":["token","page","baseURL","document","querySelector","addEventListener","event","preventDefault","form","currentTarget","elements","query","value","length","searchQuery","fetchFilms","onSearch","moviesURL","axios","get","then","results","data","console","log","catch","error","response","status","movieID","infoMovieURL","fetchInfoFilm"],"mappings":"wfAIA,IAsBMA,EAAQ,mCACVC,EAAO,EACLC,EAAU,WAAWF,EAAd,SAA4BC,EAGrBE,SAASC,cAAc,gBAC/BC,iBAAiB,UAAU,SAAAC,GAAK,OAwB5C,SAAkBA,GACdA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,cACnB,GAAGD,EAAKE,SAASC,MAAMC,MAAMC,QAAU,EAAE,CACzC,IAAIC,EAAcN,EAAKE,SAASC,MAAMC,MAEtCG,EADwB,6CAA6Cb,EAAhD,UAAiEY,IA7B1CE,CAASV,MAGzD,IAAMS,EAAU,4CAAG,WAAOE,GAAP,gGACQC,IAAMC,IAAIF,GAChCG,MAAK,YAAwB,IAAdC,EAAc,EAAtBC,KAAQD,QACX,GAAsB,IAAnBA,EAAQR,OAMZ,OAFAU,QAAQC,IAAIH,GACZpB,GAAQ,EACDoB,EALFE,QAAQC,IAAI,0CAOpBC,OAAO,SAAAC,GACyB,MAA1BA,EAAMC,SAASC,QACdL,QAAQC,IAAIE,GACZH,QAAQC,IAAI,0CAEhBD,QAAQC,IAAIE,MAhBD,yDAAH,uDA+BG,4CAAG,WAAOG,GAAP,6FACZC,EADY,sCACyCD,EADzC,YAC4D7B,EAD5D,SAEKkB,IAAMC,IAAIW,GAFf,yDAAH,sDAKnBC,CADgB,QAKZhB,EADqB,mDAAmDb,K","file":"main.238eb5446217bad6134d.js","sourcesContent":["//подключение axios (надо загрузить в проект)\nimport axios from 'axios';\n\n//массив жанров с их идентификаторами\nconst genres = [\n   {id: 28, name: \"Action\"},\n{id: 12, name: \"Adventure\"},\n{id: 16, name: \"Animation\"},\n{id: 35, name: \"Comedy\"},\n{id: 80, name: \"Crime\"},\n{id: 99, name: \"Documentary\"},\n{id: 18, name: \"Drama\"},\n{id: 10751, name: \"Family\"},\n{id: 14, name: \"Fantasy\"},\n{id: 36, name: \"History\"},\n{id: 27, name: \"Horror\"},\n{id: 10402, name: \"Music\"},\n{id: 9648, name: \"Mystery\"},\n{id: 10749, name: \"Romance\"},\n{id: 878, name: \"Science Fiction\"},\n{id: 10770, name: \"TV Movie\"},\n{id: 53, name: \"Thriller\"},\n{id: 10752, name: \"War\"},\n{id: 37, name: \"Western\"}\n]\n// данные для запроса\nconst token = \"6b8ef447c2ce3d010bfcc7f710d71588\";\nlet page = 1;\nconst baseURL = `api_key=${token}&page=${page}`;\n\n//форма поиска и слушатель на ней\nconst inputSearch = document.querySelector('#search-form');\ninputSearch.addEventListener('submit', event => onSearch(event));\n\n//базовая функция запроса списка фильмов\nconst fetchFilms = async (moviesURL) => {\n    const response = await axios.get(moviesURL)\n    .then(({data : {results}}) => {\n         if(results.length === 0) {\n             console.log(\"По Вашему запросу ничего не найдено\");\n             return;\n         }\n        console.log(results);\n        page += 1;\n        return results\n})\n    .catch (error => {\n        if(error.response.status === 422) {\n            console.log(error);\n            console.log(\"Вы ввели некорректное название фильма\");\n        } else {\n        console.log(error)}\n    })\n}\n\n//функция поиска по ключевому слову\nfunction onSearch(event){\n    event.preventDefault();\n    const form = event.currentTarget;\n    if(form.elements.query.value.length >= 1){\n    let searchQuery = form.elements.query.value;\n    const searchMoviesURL = `https://api.themoviedb.org/3/search/movie?${baseURL}&query=${searchQuery}`;\n    fetchFilms(searchMoviesURL);\n}}\n\n//функция запроса информации о фильме\nconst fetchInfoFilm = async (movieID) => {\n    const infoMovieURL = `https://api.themoviedb.org/3/movie/${movieID}?api_key=${token}`;\n    const response = await axios.get(infoMovieURL);\n}\nconst movieID = 512896;\nfetchInfoFilm(movieID);\n\n//стартовый запрос популярных фильмов\nconst popularMoviesURL = `https://api.themoviedb.org/3/trending/movie/day?${baseURL}`;\n    fetchFilms(popularMoviesURL);\n"],"sourceRoot":""}